#!/usr/bin/env ruby
require 'bundler/setup'
require 'json'
require 'steamy_santa'
require 'thor'

module SteamySanta
  class Cli < Thor
    desc 'notify', 'Notify participants via email'
    def notify
      # TODO
    end

    desc 'sort', 'Sort participants and choose victims'
    def sort
      sorter = Sorter.new($stdin)
      json = JSON.pretty_generate(sorter.to_json)
      puts json
    end
  end
end

SteamySanta::Cli.start(ARGV)
